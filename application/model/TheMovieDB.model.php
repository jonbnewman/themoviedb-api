<?phpclass TheMovieDB {  private $key;    public function setAPIKey( $key ) {    $this->key = $key;  }  /**   * Get the list of movies for a certain name query   * @param int $page Page of movie list desired   */  public function getMovieList($query, $page = 1) {    global $redis;        if( (!is_numeric( $page ) || $page > 20) ) {      // invalid input (malformed or out of bounds)      return array( 'error' => 'Invalid page request' );    }    $apiURL = "http://api.themoviedb.org/3";    if( ( $response = $redis->get( $apiURL ) ) == false ) {      $curl = curl_init();      curl_setopt( $curl, CURLOPT_URL, $apiURL );      curl_setopt( $curl, CURLOPT_RETURNTRANSFER, 1 );      curl_setopt( $curl, CURLOPT_USERAGENT, 'alertlogic.dev-test.tmdb-interface');      if( ( $response = curl_exec( $curl ) ) === false ) {        $response = json_encode( array( 'error' =>  curl_error( $curl ) ) );      }      curl_close( $curl );      $redis->set( $apiURL, $response );      $redis->expire( $apiURL, (86400 * 3) ); // data considered to be relatively non-valatile, expire in 3 days    }    $res = json_decode( $response );    $response = array();    // do something with the result here    return $response;  }}?>